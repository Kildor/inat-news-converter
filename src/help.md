Конвертер предназначен для более удобного написания новостей для проектов и журналов на сайте <a href='https://inaturalist.org' target='_blank'>iNaturalist</a>.

**Внимание**: Для корректного отображения получающихся текстов необходимо чтоб в форме создания записи в iNaturalist настройка `Форматирование`  была выставлена в `Ничего`.

<div class='image-help'><img alt='Форма создания новой записи' src='1ea951d4d613.png'/></div>

Основной целью в процессе создания редактора было упрощение ввода табличных данных с йНатуралиста, прежде всего статистик проекта. Это вкладки:
*	Наблюдатели проекта
*	Эксперты проекта
*	Виды проекта

А так же список подпроектов в зонтичном проекте.

Чтоб преобразовать данные, надо скопировать текст со страницы сайта, после чего вставить в конвертер. Конвертер должен автоматически догадаться об типе данных и сконвертировать их. 
**Важно:** Если конвертер конвертирует неправильно, значит вероятнее всего вы неправильно скопировали текст. Для статистики по наблюдателям и экспертам надо копировать текст начиная с первого символа (с заголовком или без него). Для видов подпроектов надо копировать текст так, чтоб первой строкой было число.

Например текст

'26 058
Флора Москвы | Flora of Moscow
18 372
Флора Подмосковья | Moscow Oblast Flora

Превратится в следующую таблицу:

26 058
Флора Москвы | Flora of Moscow
18 372
Флора Подмосковья | Moscow Oblast Flora

А текст:

'1991 наблюдение
Сосна Обыкновенная
Pinus sylvestris
1749 наблюдений
Клён Американский
Acer negundo

1991 наблюдение
Сосна Обыкновенная
Pinus sylvestris
1749 наблюдений
Клён Американский
Acer negundo

Одновременно можно конвертировать разные типы данных, конвертация происходит по блокам текста, разделённым двумя переводами строки. Если конвертер не нашёл подходящего типа таблицы, он рассматривает текст как текст. Внутри таких блоков поддерживается возможность использовать синтаксис Markdown, либо HTML. Если по каким-то причинам редактор преобразует не нужное вам, начните текст с символа **`'`**

'' Этот текст всегда будет рассматриваться как текст.

Кроме того, можно указать тип данных и заголовки таблицы в первой строке блока. Для этого надо начать текст с восклицательного знака, затем, в круглых скобках, указать тип проекта, например `!(1)`.

| Идентификатор | Тип данных |
| ---| --- |
| 1 | Наблюдатели проекта |
| 2 | Эксперты проекта |
| 3 | Виды проекта |
| 4 | Подпроекты зонтичного проекта |
| 5 | Обзор проекта |
| 6 | Табулированные данные |
{.table}

Чтоб указать заголовки, надо перечислить их вслед за типом проекта через двойной восклицательный знак: `!(4 !! Место !! Проект )`. **Внимание:** Произойдёт полное переопределение названий, включая количество, без какой-либо проверки на валидность. В случае несоответствия количества заголовков количеству полей в данных, всё может разъехаться. Так же надо следить за соответствием количества заголовков настройке "Добавлять позицию".


### `!(5)` Обзор проекта

Краткая информация и числа статистики проекта.

'!(5) Обзор
9 308
НАБЛЮДЕНИЙ
514
ВИДОВ
437
ЭКСПЕРТОВ
174
НАБЛЮДАТЕЛЯ

!(5) Обзор
9 308
НАБЛЮДЕНИЙ
514
ВИДОВ
437
ЭКСПЕРТОВ
174
НАБЛЮДАТЕЛЯ

### `!(6)` Табулированные данные

Иногда требуется вставить в пост какие-то табличные данные, например из электронных таблиц. Чтоб не возиться с разметкой, я добавил поддержку таких строк. Для этого нужно скопировать таблицу из документа, вставить в конвертер, отбив текст двойным переводом строки, и добавить перед таблицей код !(6). Чтоб добавить заголовки таблицы, надо обернуть первую строку в скобки, разделив столбцы табуляцией, либо двойным восклицательным знаком

'!(6)
Ячейка	Данные
Вторая	Ещё данные

!(6)
Ячейка	Данные
Вторая	Ещё данные

'!(6 Заголовок	Второй заголовок)
Ячейка	Данные
Вторая	Ещё данные

!(6 Заголовок	Второй заголовок)
Ячейка	Данные
Вторая	Ещё данные

### Markdown
В настройках конвертации можно включить использование [Markdown](https://ru.wikipedia.org/wiki/Markdown). На странице используется реализация Markdown-it с подключённым плагином "[markdown-it-attrs](https://www.npmjs.com/package/markdown-it-attrs)" для поддержки аттрибутов тегов

Например:
```
| table | header |
| ---| --- |
| table | body|
{.class}
```

Превратится в таблицу с классом `class`.
| table | header |
| ---| --- |
| table | body|
{.class}
 
 Это может быть удобно для использования классов фреймворка `Bootstrap`, используемого на сайте. Например табличные данные конвертируются в таблицы с классами `table table-striped table-hover table-condensed`


### Контакты
* Страница автора на iNaturalist: [Kildor](https://www.inaturalist.org/people/kildor)
* Страница проекта на Github: [Github](https://github.com/Kildor/inat-news-converter)